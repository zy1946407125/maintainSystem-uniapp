(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/adminPage/order/warning/warning"],{"088c":function(e,t,n){"use strict";n.r(t);var a=n("d440"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"2e63":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var a={uniDatetimePicker:function(){return n.e("uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker").then(n.bind(null,"364f"))},uniTable:function(){return n.e("uni_modules/uni-table/components/uni-table/uni-table").then(n.bind(null,"c226"))},uniTr:function(){return n.e("uni_modules/uni-table/components/uni-tr/uni-tr").then(n.bind(null,"2863"))},uniTh:function(){return n.e("uni_modules/uni-table/components/uni-th/uni-th").then(n.bind(null,"b9c3"))},uniTd:function(){return n.e("uni_modules/uni-table/components/uni-td/uni-td").then(n.bind(null,"6cd9"))}},o=function(){var e=this,t=e.$createElement;e._self._c},i=[]},"639b":function(e,t,n){"use strict";(function(e){n("c6f8");a(n("66fd"));var t=a(n("6fab"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"6fab":function(e,t,n){"use strict";n.r(t);var a=n("2e63"),o=n("088c");for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u,r=n("f0c5"),l=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);t["default"]=l.exports},d440:function(e,t,n){"use strict";(function(e){function n(e){return u(e)||i(e)||o(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function i(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return r(e)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l={data:function(){return{type:[],index2:0,warn:["蓝色","黄色","红色"],blueNum:null,yellowNum:null,redNum:null,index3:0,total:0,current:1,pageSize:10,timestamp:null,selectStartTime:null,defaultEndTime:null,tableData:null}},onReachBottom:function(){console.log("触底"),this.total/this.pageSize>this.current?(this.current=this.current+1,this.selectOrders2()):e.showToast({title:"没有更多了",icon:"none"})},methods:{change:function(e){console.log(e),this.currentIndex=e.current,this.selectOrders2()},lookImg:function(t){console.log(t),t=JSON.parse(t);for(var n=0;n<t.length;n++)t[n]=(getApp().globalData.BASE_URL+"/upload/"+t[n]).replace(/[\r\n]/g,"");console.log(t),e.previewImage({urls:t})},bindPickerChange1:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.index1=e.target.value},bindPickerChange2:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.index2=e.target.value},bindPickerChange3:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.index3=e.target.value},dateChange:function(e){console.log(e),this.selectStartTime=e},selectOrders:function(){if(console.log(this.type[this.index2]),null==this.selectStartTime)e.showToast({title:"请选择起始日期",icon:"none"});else{var t=this;e.showLoading({});var n=getApp().globalData.token,a=0,o=0;"蓝色"===t.warn[t.index3]?(a=t.blueNum,o=t.yellowNum):"黄色"===t.warn[t.index3]?(a=t.yellowNum,o=t.redNum):"红色"===t.warn[t.index3]&&(a=t.redNum,o=0),e.request({url:getApp().globalData.BASE_URL+"/admin/warning",data:{token:n,startTime:t.selectStartTime,endTime:t.defaultEndTime,type:t.type[t.index2],num1:a,num2:o,pageNum:1,pageSize:t.pageSize},header:{},success:function(n){console.log(n),e.hideLoading(),444===n.data.status?e.showToast({title:"您的登录信息已过期，请重新登录",duration:2e3,icon:"none",success:function(){setTimeout((function(){e.reLaunch({url:"/pages/login/login"})}),2e3)}}):445===n.data.status?e.showToast({title:"您没有此操作权限",duration:2e3,icon:"none"}):(t.tableData=n.data.orders,t.total=n.data.total,t.current=1)}})}},selectOrders2:function(){if(console.log(this.type[this.index2]),null==this.selectStartTime)e.showToast({title:"请选择起始日期",icon:"none"});else{var t=this;e.showLoading({title:"加载第"+t.current+"页"});var a=getApp().globalData.token,o=0,i=0;"蓝色"===t.warn[t.index3]?(o=t.blueNum,i=t.yellowNum):"黄色"===t.warn[t.index3]?(o=t.yellowNum,i=t.redNum):"红色"===t.warn[t.index3]&&(o=t.redNum,i=0),e.request({url:getApp().globalData.BASE_URL+"/admin/warning",data:{token:a,startTime:t.selectStartTime,endTime:t.defaultEndTime,type:t.type[t.index2],num1:o,num2:i,pageNum:t.current,pageSize:t.pageSize},header:{},success:function(a){console.log(a),e.hideLoading(),444===a.data.status?e.showToast({title:"您的登录信息已过期，请重新登录",duration:2e3,icon:"none",success:function(){setTimeout((function(){e.reLaunch({url:"/pages/login/login"})}),2e3)}}):445===a.data.status?e.showToast({title:"您没有此操作权限",duration:2e3,icon:"none"}):(t.tableData=[].concat(n(t.tableData),n(a.data.orders)),t.total=a.data.total)}})}},selectWorkType:function(){var t=getApp().globalData.token,n=this;e.showLoading({}),e.request({url:getApp().globalData.BASE_URL+"/user/selectWorkType",data:{token:t},header:{},success:function(t){if(console.log(t),e.hideLoading(),444===t.data.status)e.showToast({title:"您的登录信息已过期，请重新登录",duration:2e3,icon:"none",success:function(){setTimeout((function(){e.reLaunch({url:"/pages/login/login"})}),2e3)}});else if(445===t.data.status)e.showToast({title:"您没有此操作权限",duration:2e3,icon:"none"});else{n.type.push("全部类别");for(var a=0;a<t.data.length;a++)n.type.push(t.data[a].type)}}})},selectWarnNum:function(){var t=this;e.showLoading({});var n=getApp().globalData.token;e.request({url:getApp().globalData.BASE_URL+"/admin/selectWarnSet",data:{token:n,type:this.type},header:{},success:function(n){console.log(n),e.hideLoading(),444===n.data.status?e.showToast({title:"您的登录信息已过期，请重新登录",duration:2e3,icon:"none",success:function(){setTimeout((function(){e.reLaunch({url:"/pages/login/login"})}),2e3)}}):445===n.data.status?e.showToast({title:"您没有此操作权限",duration:2e3,icon:"none"}):(t.blueNum=n.data.bluenum,t.yellowNum=n.data.yellownum,t.redNum=n.data.rednum)}})}},created:function(){this.selectWorkType(),this.selectWarnNum(),this.defaultEndTime=(new Date).getTime()}};t.default=l}).call(this,n("543d")["default"])}},[["639b","common/runtime","common/vendor"]]]);