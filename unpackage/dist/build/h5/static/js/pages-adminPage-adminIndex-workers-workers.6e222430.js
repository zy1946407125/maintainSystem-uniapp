(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-adminPage-adminIndex-workers-workers"],{6412:function(t,n,e){"use strict";e.r(n);var i=e("fad8"),a=e.n(i);for(var u in i)"default"!==u&&function(t){e.d(n,t,(function(){return i[t]}))}(u);n["default"]=a.a},d7c5:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return u})),e.d(n,"a",(function(){return i}));var i={uniTable:e("c226").default,uniTr:e("2863").default,uniTh:e("b9c3").default,uniTd:e("6cd9").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.addWorker.apply(void 0,arguments)}}},[t._v("添加维修人员")]),e("uni-table",{attrs:{border:!0,stripe:!0,emptyText:"暂无更多数据"}},[e("uni-tr",[e("uni-th",{attrs:{align:"center"}},[t._v("编号")]),e("uni-th",{attrs:{align:"center"}},[t._v("姓名")]),e("uni-th",{attrs:{align:"center"}},[t._v("联系方式")]),e("uni-th",{attrs:{align:"center"}},[t._v("维修类别")]),e("uni-th",{attrs:{align:"center"}},[t._v("操作")])],1),t._l(t.tableData,(function(n){return e("uni-tr",[e("uni-td",[t._v(t._s(n.id))]),e("uni-td",[t._v(t._s(n.username))]),e("uni-td",[t._v(t._s(n.phone))]),e("uni-td",[t._v(t._s(n.type))]),e("uni-td",[e("v-uni-button",{attrs:{type:"primary",plain:"true"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteWorker(n.id)}}},[t._v("删除")])],1)],1)}))],2)],1)},u=[]},ea8c:function(t,n,e){"use strict";e.r(n);var i=e("d7c5"),a=e("6412");for(var u in a)"default"!==u&&function(t){e.d(n,t,(function(){return a[t]}))}(u);var o,r=e("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"73e6693e",null,!1,i["a"],o);n["default"]=s.exports},fad8:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={data:function(){return{tableData:null}},methods:{addWorker:function(){uni.navigateTo({url:"/pages/adminPage/adminIndex/addWorker/addWorker"})},deleteWorker:function(t){var n=this;uni.showModal({title:"删除",content:"确认删除吗",success:function(e){if(e.confirm){uni.showLoading({});var i=getApp().globalData.token;uni.request({url:getApp().globalData.BASE_URL+"/superAdmin/deleteWorker",data:{token:i,id:t},header:{},success:function(t){console.log(t),uni.hideLoading(),444===t.data.status?uni.showToast({title:"您的登录信息已过期，请重新登录",duration:2e3,icon:"none",success:function(){setTimeout((function(){uni.reLaunch({url:"/pages/login/login"})}),2e3)}}):445===t.data.status?uni.showToast({title:"您没有此操作权限",duration:2e3,icon:"none"}):1===t.data?uni.showToast({title:"删除成功",duration:2e3,success:function(){setTimeout((function(){n.selectWorkers()}),2e3)}}):-1===t.data?uni.showToast({title:"该维修人员已有工单，无法删除",duration:2e3,icon:"none"}):uni.showToast({title:"删除失败",duration:2e3,icon:"none"})}})}}})},selectWorkers:function(){var t=this;uni.showLoading({});var n=getApp().globalData.token;uni.request({url:getApp().globalData.BASE_URL+"/admin/selectWorkers",data:{token:n},header:{},success:function(n){console.log(n),uni.hideLoading(),444===n.data.status?uni.showToast({title:"您的登录信息已过期，请重新登录",duration:2e3,icon:"none",success:function(){setTimeout((function(){uni.reLaunch({url:"/pages/login/login"})}),2e3)}}):445===n.data.status?uni.showToast({title:"您没有此操作权限",duration:2e3,icon:"none"}):t.tableData=n.data}})}},created:function(){},onShow:function(){this.selectWorkers()}};n.default=i}}]);